{% extends "Header.j2" %}
{% block body %}
	{% from "Components/EventList.j2" import EventList %}
	{% from "Components/OptionList.j2" import OptionList %}

	<title>
		Room
	</title>

	<h3
	  style="padding:8px"
	>
		{{ room["name"] }}
	</h3>

	<div
	  class="accordion"
	  id="accordionExample"
	>
		<div
		  class="accordion-item"
		>
			<h2
			  class="accordion-header"
			>
				<button
				  class="accordion-button"
				  type="button"
				  data-bs-toggle="collapse"
				  data-bs-target="#collapseOne"
				  aria-expanded="true"
				  aria-controls="collapseOne"
				>
					Room's Curtains
				</button>
			</h2>
			<div
			  id="collapseOne"
			  class="accordion-collapse collapse show"
			  data-bs-parent="#accordionExample"
			>
				<div
				  class="accordion-body"
				>
					<table
					  class="table table-dark table-striped"
					>
						<tbody>
							{% for id, name in room["Curtains"].items() %}
								<tr>
									<td>
										<a
										  href="/curtains/{{ id }}"
										>
											{{ name }}
										</a>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<div
		  class="accordion-item"
		>
			<h2
			  class="accordion-header"
			>
				<button
				  class="accordion-button collapsed"
				  type="button"
				  data-bs-toggle="collapse"
				  data-bs-target="#collapseTwo"
				  aria-expanded="false"
				  aria-controls="collapseTwo"
				>
					Room's Events
					<span
					  class="badge text-bg-primary"
					  style="margin-left: 4px;"
					>
						{{ room["RoomEvents"] | length }}
					</span>
				</button>
			</h2>
			<div
			  id="collapseTwo"
			  class="accordion-collapse collapse"
			  data-bs-parent="#accordionExample"
			>
				<div
				  class="accordion-body"
				>
					{{ EventList(room["RoomEvents"], "Room Events") }}
				</div>
			</div>
		</div>
		<div
		  class="accordion-item"
		>
			<h2
			  class="accordion-header"
			>
				<button
				  class="accordion-button collapsed"
				  type="button"
				  data-bs-toggle="collapse"
				  data-bs-target="#collapseThree"
				  aria-expanded="false"
				  aria-controls="collapseThree"
				>
					Room's Options
				</button>
			</h2>
			<div
			  id="collapseThree"
			  class="accordion-collapse collapse"
			  data-bs-parent="#accordionExample"
			>
				<div
				  class="accordion-body"
				>
					{{ OptionList(room["RoomOptions"], "Room Options") }}					
				</div>
			</div>
		</div>
	</div>
	{% include("NewEventModal.j2") %}
{% endblock %}
